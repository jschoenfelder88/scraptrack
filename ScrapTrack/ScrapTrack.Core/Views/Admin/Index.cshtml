@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<btn id="createUser" class="btn btn-secondary mmodal-btn">Create New User</btn>
<div class="mmodal">
    <div class="mmodal-content">
        <span class="close">&times;</span>
        <h4>Create a New User</h4>
        <hr />
        <div id="partial-content">
            @Html.Partial("~/Views/Account/_Register.cshtml")
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('#partial-content').on('click', '#submitUserDetails', function (e) {
            e.preventDefault();
            $.ajax({
                type: "POST",
                url: '@Url.Action("Register", "Account")',
                data: $('form').serialize(),
                success: function (result) {
                    console.log(result);
                    $("#partial-content").html(result);
                },
                error: function (result) {
                    console.log("error");
                }
            })
        });

        $('#createUser').on('click', function (e) {
            e.preventDefault();
            $.ajax({
                type: "GET",
                url: '@Url.Action("Register", "Account")',
                success: function (result) {
                    $("#partial-content").html(result);
                }
            })
        })
    });
</script>